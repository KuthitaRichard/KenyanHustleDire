(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();document.addEventListener("DOMContentLoaded",function(){u()});function u(){f(),m(),p(),v(),w(),h(),S(),setTimeout(()=>{const t=document.querySelector(".loading");t&&t.classList.add("hidden")},1e3)}function f(){const t=document.getElementById("navbar"),e=document.getElementById("nav-toggle"),i=document.getElementById("nav-menu"),o=document.querySelectorAll(".nav-link");e&&e.addEventListener("click",()=>{i.classList.toggle("active"),e.classList.toggle("active")}),o.forEach(n=>{n.addEventListener("click",()=>{i.classList.remove("active"),e.classList.remove("active")})}),window.addEventListener("scroll",()=>{window.scrollY>50?t.classList.add("scrolled"):t.classList.remove("scrolled")});const s=window.location.pathname.split("/").pop()||"index.html";o.forEach(n=>{const r=n.getAttribute("href");r===s||s===""&&r==="index.html"?n.classList.add("active"):n.classList.remove("active")})}function m(){document.querySelector(".hero-carousel")&&new Swiper(".hero-carousel",{loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},effect:"fade",fadeEffect:{crossFade:!0},speed:1e3}),document.querySelector(".services-carousel")&&new Swiper(".services-carousel",{loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:40}},speed:800}),document.querySelector(".gallery-carousel")&&new Swiper(".gallery-carousel",{loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:40}},speed:1e3}),document.querySelector(".testimonials-carousel")&&new Swiper(".testimonials-carousel",{loop:!0,autoplay:{delay:6e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1,spaceBetween:30,speed:800,effect:"slide"})}function p(){typeof AOS<"u"&&AOS.init({duration:1e3,easing:"ease-out-cubic",once:!0,offset:120,delay:100})}function v(){const t=document.querySelectorAll(".stat-number"),e=200,i=s=>{const n=parseInt(s.dataset.target),r=parseInt(s.innerText),d=n/e;r<n?(s.innerText=Math.ceil(r+d),setTimeout(()=>i(s),1)):s.innerText=n},o=new IntersectionObserver(s=>{s.forEach(n=>{if(n.isIntersecting){const r=n.target;r.classList.contains("counted")||(r.classList.add("counted"),i(r))}})},{threshold:.7});t.forEach(s=>{o.observe(s)})}function w(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(i){i.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})}),window.addEventListener("scroll",()=>{const e=window.pageYOffset;document.querySelectorAll(".parallax").forEach(o=>{const s=o.dataset.speed||.5,n=-(e*s);o.style.transform=`translateY(${n}px)`})});const t=document.querySelector(".scroll-top");t&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?t.classList.add("visible"):t.classList.remove("visible")}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}function h(){document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",function(i){i.preventDefault();const o=new FormData(this),s={};o.forEach((n,r)=>{s[r]=n}),s.timestamp=new Date().toLocaleString(),L(this)?(g(s),y(),a("Form submitted successfully! Excel file downloaded.","success"),this.reset()):a("Please fill in all required fields correctly.","error")})})}function g(t){let e=JSON.parse(localStorage.getItem("formSubmissions")||"[]");e.push(t),localStorage.setItem("formSubmissions",JSON.stringify(e))}function y(t){let e=JSON.parse(localStorage.getItem("formSubmissions")||"[]");const i=XLSX.utils.book_new(),o=[["Timestamp","First Name","Last Name","Email","Phone","Business","Service","Budget","Message","Newsletter"],...e.map(r=>[r.timestamp||"",r.firstName||"",r.lastName||"",r.email||"",r.phone||"",r.business||"",r.service||"",r.budget||"",r.message||"",r.newsletter?"Yes":"No"])],s=XLSX.utils.aoa_to_sheet(o);s["!cols"]=[{width:20},{width:15},{width:15},{width:25},{width:15},{width:20},{width:20},{width:15},{width:40},{width:10}],XLSX.utils.book_append_sheet(i,s,"Contact Submissions");const n=`kenyan-hustle-dire-contacts-${new Date().toISOString().split("T")[0]}.xlsx`;XLSX.writeFile(i,n)}function L(t){const e=t.querySelectorAll("[required]");let i=!0;return e.forEach(o=>{o.value.trim()?(o.classList.remove("error"),o.type==="email"&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value)||(o.classList.add("error"),i=!1)),o.type==="tel"&&(/^[\+]?[\d\s\-\(\)]+$/.test(o.value)||(o.classList.add("error"),i=!1))):(o.classList.add("error"),i=!1)}),i}function a(t,e="info"){document.querySelectorAll(".notification").forEach(n=>n.remove());const o=document.createElement("div");o.className=`notification notification-${e}`,o.innerHTML=`
        <div class="notification-content">
            <span class="notification-message">${t}</span>
            <button class="notification-close">&times;</button>
        </div>
    `,document.body.appendChild(o),setTimeout(()=>{o.classList.add("show")},100),setTimeout(()=>{c(o)},5e3),o.querySelector(".notification-close").addEventListener("click",()=>{c(o)})}function c(t){t.classList.remove("show"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300)}function S(){const t=document.querySelectorAll("img[data-src]"),e=new IntersectionObserver((i,o)=>{i.forEach(s=>{if(s.isIntersecting){const n=s.target;n.src=n.dataset.src,n.classList.remove("lazy"),e.unobserve(n)}})});t.forEach(i=>e.observe(i))}function E(){const t=document.querySelector(".search-input"),e=document.querySelector(".search-results");if(t&&e){let i;t.addEventListener("input",function(){clearTimeout(i);const o=this.value.trim();o.length>2?i=setTimeout(()=>{b(o)},300):(e.innerHTML="",e.style.display="none")})}}function b(t){const i=[{title:"Business Consulting",url:"services.html",type:"Service"},{title:"Success Stories",url:"testimonials.html",type:"Page"},{title:"Contact Us",url:"contact.html",type:"Page"},{title:"About Our Mission",url:"about.html",type:"Page"}].filter(o=>o.title.toLowerCase().includes(t.toLowerCase()));q(i)}function q(t){const e=document.querySelector(".search-results");t.length>0?(e.innerHTML=t.map(i=>`
            <div class="search-result-item">
                <a href="${i.url}">
                    <h4>${i.title}</h4>
                    <span class="result-type">${i.type}</span>
                </a>
            </div>
        `).join(""),e.style.display="block"):(e.innerHTML='<div class="no-results">No results found</div>',e.style.display="block")}function x(){const t=document.querySelectorAll(".faq-item");t.forEach(e=>{const i=e.querySelector(".faq-question");e.querySelector(".faq-answer"),i.addEventListener("click",()=>{const o=e.classList.contains("active");t.forEach(s=>{s!==e&&s.classList.remove("active")}),o?e.classList.remove("active"):e.classList.add("active")})})}function l(t){const e=document.getElementById(t);e&&(e.classList.remove("show"),setTimeout(()=>{e.style.display="none",document.body.style.overflow="auto"},300))}function O(){window.addEventListener("click",function(t){t.target.classList.contains("modal")&&l(t.target.id)}),document.addEventListener("keydown",function(t){if(t.key==="Escape"){const e=document.querySelector(".modal.show");e&&l(e.id)}})}window.addEventListener("error",function(t){console.error("JavaScript error:",t.error)});window.addEventListener("load",function(){const t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;console.log("Page load time:",t+"ms")});document.addEventListener("DOMContentLoaded",function(){E(),x(),O()});
